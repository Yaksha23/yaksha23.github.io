function collision(e,a){return"undefined"!=typeof e&&"undefined"!=typeof a&&e.x<=a.x+a.width&&e.x+e.width>=a.x&&e.y<=a.y+a.height&&e.y+e.height>a.y?!0:!1}function hoverOn(e){return pointer.x>=e.x&&pointer.x<=e.x+e.width&&pointer.y>=e.y&&pointer.y<=e.y+e.height?!0:!1}function drawText(e,a,t,g,m){var r=[];e=e.toUpperCase();for(var i=0;i<e.length;i++){var l=letters[e.charAt(i)];l&&r.push(l)}game.ctx.fillStyle=m||"#000000";var s=a;for(i=0;i<r.length;i++){l=r[i];for(var n=t,o=0,c=0;c<l.length;c++){for(var d=l[c],f=0;f<d.length;f++)d[f]&&game.ctx.fillRect(s+f*g,n,g,g);o=Math.max(o,d.length*g),n+=g}s+=g+o}}function toggleFullScreen(){var e=window.document,a=e.documentElement,t=a.requestFullscreen||a.mozRequestFullScreen||a.webkitRequestFullScreen||a.msRequestFullscreen,g=e.exitFullscreen||e.mozCancelFullScreen||e.webkitExitFullscreen||e.msExitFullscreen;e.fullscreenElement||e.mozFullScreenElement||e.webkitFullscreenElement||e.msFullscreenElement?g.call(e):t.call(a)}function click(e){"play"==game.currentState&&game.play.onclick(),1==hoverOn(game.start.playBTN)&&"start"==game.currentState&&(game.play.init(),game.particles=[]),1==hoverOn(game.start.storeBTN)&&"start"==game.currentState&&(game.store.init(),game.fade=1,game.particles=[],game.bugs=[],game.bullets=[]),"store"==game.currentState&&game.store.onclick(),"gameover"==game.currentState&&game.over.timer>=60&&(game.fade=1,game.particles=[],game.currentState="start"),1==hoverOn(game.gui.fullscreenBTN)&&"preload"!=game.currentState&&(1==game.gui.fullscreenBTN.toggled?(game.gui.fullscreenBTN.toggled=!1,toggleFullScreen()):(game.gui.fullscreenBTN.toggled=!0,toggleFullScreen())),pointer.x=e.pageX-game.canvas.offsetLeft,pointer.y=e.pageY-game.canvas.offsetTop,e.preventDefault()}function draw(){requestAnimationFrame(draw),now=Date.now(),delta=now-then,delta>interval&&(then=now-delta%interval,game.updateSize(),game.update(),game.tick++,delta>=1e3/15&&(game.update(),game.tick++),game.ctx.globalAlpha=.7,game.ctx.fillStyle="#1C4145",game.ctx.fillRect(0,0,game.canvas.width,game.canvas.height),game.ctx.globalAlpha=1,game.render())}const FPS=.03;var game={};game.tick=0;var random=function(e,a){return Math.floor(Math.random()*(a-e))+e};console.error=function(){},game.moneycount=0,game.canvas=document.getElementById("canvas"),game.fade=1,game.ctx=game.canvas.getContext("2d"),game.money=0,game.currentState="preload",game.highscore=0,game.score=0,game.hits=0,game.assets={},game.image=new Image,game.image.src="assets.png",game.image.onload=function(){game.init()},document.addEventListener("onerror",function(e){e.preventDefault()}),game.updateSize=function(){(window.innerWidth!=game.canvas.width||window.innerHeight!=game.canvas.height)&&(game.canvas.width=window.innerWidth,game.canvas.height=window.innerHeight,game.canvas.style.width=window.innerWidth,game.canvas.style.height=window.innerHeight,game.canvas.style.imageRendering="pixelated",game.ctx.imageSmoothingEnabled=!1)},game.update=function(){for(var e=0;e<game.canvas.width;e+=40)game.tick%10==0&&game.spawnBckParticle(e,-80);game.updateBckParticle(),"start"==game.currentState?(random(0,100)<=3&&game.spawnBug(),random(0,50)<=2&&(random(0,100)<=3&&game.spawnBug(),game.spawnSeakingBullet(game.canvas.width/2-20,game.canvas.height-80)),game.score=0):"play"==game.currentState?game.play.update():"preload"==game.currentState?game.preload.update():"gameover"==game.currentState?game.over.update():"store"==game.currentState&&game.store.update(),game.updateBug(),game.highscore<game.score&&(game.highscore=game.score);for(var e=0;e<game.bugs.length;e++)for(var a=0;a<game.bullets.length;a++)collision(game.bugs[e],game.bullets[a])&&(game.spawnParticles(game.bugs[e].x,game.bugs[e].y,30),game.score/2e3<30?random(0,50)>game.score/2e3&&(game.deleteBug(e),"play"==game.currentState&&(game.score+=100,game.moneycount>0?game.money+=2:game.money+=1)):random(0,50)>30&&(game.deleteBug(e),"play"==game.currentState&&(game.score+=100,game.moneycount>0?game.money+=2:game.money+=1)),game.score%1e3==0&&game.score>0&&game.spawnAlert("score: "+game.score,"#00ff00"),game.deleteBullet(a));for(var e=0;e<game.bugs.length;e++)for(var a=0;a<game.files.length;a++)collision(game.bugs[e],game.files[a])&&(game.spawnParticles(game.bugs[e].x,game.bugs[e].y,30),game.spawnParticles(game.files[a].x,game.files[a].y,30),game.hits++,game.files[a].HP--,game.deleteBug(e),game.spawnAlert("file hit","#ff0000"));game.gui.update(),game.updateBullet(),game.updateParticle(),game.updateFile()},game.render=function(){game.renderBckParticle(),game.renderBug(),game.renderBullet(),game.renderParticle(),game.renderFile(),"start"==game.currentState?game.start.render():"play"==game.currentState?game.play.render():"preload"==game.currentState?game.preload.render():"gameover"==game.currentState?game.over.render():"store"==game.currentState&&game.store.render(),"preload"!=game.currentState&&game.gui.render(),game.renderAlert(),game.fade>0&&(game.ctx.fillStyle="#ffffff",game.ctx.strokeStyle="#ffffff",game.ctx.globalAlpha=game.fade,game.ctx.rect(-10,-10,game.canvas.width+10,game.canvas.height+10),game.ctx.fill(),game.ctx.stroke(),game.ctx.globalAlpha=1,game.fade-=.05)};var letters=letters={A:[[,1],[1,,1],[1,,1],[1,1,1],[1,,1]],B:[[1,1],[1,,1],[1,1,1],[1,,1],[1,1]],C:[[1,1,1],[1],[1],[1],[1,1,1]],D:[[1,1],[1,,1],[1,,1],[1,,1],[1,1]],E:[[1,1,1],[1],[1,1,1],[1],[1,1,1]],F:[[1,1,1],[1],[1,1],[1],[1]],G:[[,1,1],[1],[1,,1,1],[1,,,1],[,1,1]],H:[[1,,1],[1,,1],[1,1,1],[1,,1],[1,,1]],I:[[1,1,1],[,1],[,1],[,1],[1,1,1]],J:[[1,1,1],[,,1],[,,1],[1,,1],[1,1,1]],K:[[1,,,1],[1,,1],[1,1],[1,,1],[1,,,1]],L:[[1],[1],[1],[1],[1,1,1]],M:[[1,1,1,1,1],[1,,1,,1],[1,,1,,1],[1,,,,1],[1,,,,1]],N:[[1,,,1],[1,1,,1],[1,,1,1],[1,,,1],[1,,,1]],O:[[1,1,1],[1,,1],[1,,1],[1,,1],[1,1,1]],P:[[1,1,1],[1,,1],[1,1,1],[1],[1]],Q:[[0,1,1],[1,,,1],[1,,,1],[1,,1,1],[1,1,1,1]],R:[[1,1],[1,,1],[1,,1],[1,1],[1,,1]],S:[[1,1,1],[1],[1,1,1],[,,1],[1,1,1]],T:[[1,1,1],[,1],[,1],[,1],[,1]],U:[[1,,1],[1,,1],[1,,1],[1,,1],[1,1,1]],V:[[1,,,,1],[1,,,,1],[,1,,1],[,1,,1],[,,1]],W:[[1,,,,1],[1,,,,1],[1,,,,1],[1,,1,,1],[1,1,1,1,1]],X:[[1,,,,1],[,1,,1],[,,1],[,1,,1],[1,,,,1]],Y:[[1,,1],[1,,1],[,1],[,1],[,1]],Z:[[1,1,1,1,1],[,,,1],[,,1],[,1],[1,1,1,1,1]],0:[[,1],[1,,1],[1,,1],[1,,1],[,1]],1:[[,1],[1,1],[,1],[,1],[1,1,1]],2:[[,1,1],[1,,,1],[,,1],[,1],[1,1,1,1]],3:[[1,1,1],[,,,1],[,1,1],[,,,1],[1,1,1]],4:[[,,1,1],[,1,,1],[1,,,1],[1,1,1,1],[,,,1]],5:[[1,1,1,1],[1],[1,1,1,1],[,,,1],[1,1,1]],6:[[,1,1],[1],[1,1,1],[1,,,1],[,1,1]],7:[[1,1,1,1],[,,,1],[,,1],[,,1],[,,1]],8:[[,1,1],[1,,,1],[,1,1],[1,,,1],[,1,1]],9:[[,1,1],[1,,,1],[,1,1,1],[,,,1],[,1,1]],".":[[,,],[,,],[,,],[,,],[,,1]]," ":[[,,],[,,],[,,],[,,],[,,]],_:[[,,],[,,],[,,],[,,],[1,1,1,1]],":":[[,,],[1,,],[,,],[1,,],[,,]]};game.gui={},game.gui.fullscreenBTN={x:0,y:0,width:40,height:40,toggled:!1},game.gui.update=function(){game.gui.fullscreenBTN.x=game.canvas.width-20-game.gui.fullscreenBTN.width,game.gui.fullscreenBTN.y=20},game.gui.render=function(){1==hoverOn(game.gui.fullscreenBTN)&&0==game.gui.fullscreenBTN.toggled?game.ctx.drawImage(game.image,0,16,8,8,game.gui.fullscreenBTN.x-5,game.gui.fullscreenBTN.y-5,game.gui.fullscreenBTN.width+10,game.gui.fullscreenBTN.height+10):1==hoverOn(game.gui.fullscreenBTN)&&1==game.gui.fullscreenBTN.toggled?game.ctx.drawImage(game.image,0,16,8,8,game.gui.fullscreenBTN.x+5,game.gui.fullscreenBTN.y+5,game.gui.fullscreenBTN.width-10,game.gui.fullscreenBTN.height-10):game.ctx.drawImage(game.image,0,16,8,8,game.gui.fullscreenBTN.x,game.gui.fullscreenBTN.y,game.gui.fullscreenBTN.width,game.gui.fullscreenBTN.height)},game.preload={},game.preload.tick=0,game.preload.text="",game.preload.placement={x:0,y:0},game.preload.update=function(){0==game.preload.tick&&(game.fade=1,game.preload.tick+=60),100==game.preload.tick&&(game.preload.text+="f"),105==game.preload.tick&&(game.preload.text+="i"),110==game.preload.tick&&(game.preload.text+="r"),115==game.preload.tick&&(game.preload.text+="e"),120==game.preload.tick&&(game.preload.text+="n"),125==game.preload.tick&&(game.preload.text+="i"),130==game.preload.tick&&(game.preload.text+="b"),135==game.preload.tick&&(game.preload.text+="b"),140==game.preload.tick&&(game.preload.text+="l"),145==game.preload.tick&&(game.preload.text+="e"),150==game.preload.tick&&(game.preload.text+="r"),155==game.preload.tick&&(game.preload.text+=" "),165==game.preload.tick&&(game.preload.text+="s"),170==game.preload.tick&&(game.preload.text+="t"),175==game.preload.tick&&(game.preload.text+="u"),180==game.preload.tick&&(game.preload.text+="d"),185==game.preload.tick&&(game.preload.text+="i"),190==game.preload.tick&&(game.preload.text+="o"),195==game.preload.tick&&(game.preload.text+="s"),200==game.preload.tick&&(game.preload.text+=" "),205==game.preload.tick&&(game.preload.text+="p"),210==game.preload.tick&&(game.preload.text+="r"),215==game.preload.tick&&(game.preload.text+="e"),220==game.preload.tick&&(game.preload.text+="s"),225==game.preload.tick&&(game.preload.text+="e"),230==game.preload.tick&&(game.preload.text+="n"),235==game.preload.tick&&(game.preload.text+="t"),240==game.preload.tick&&(game.preload.text+="s"),245==game.preload.tick&&(game.preload.text+="."),250==game.preload.tick&&(game.preload.text+="."),255==game.preload.tick&&(game.preload.text+="."),260==game.preload.tick&&(game.preload.text="firenibbler studios presents..._"),280==game.preload.tick&&(game.preload.text="firenibbler studios presents..."),300==game.preload.tick&&(game.preload.text="firenibbler studios presents..._"),320==game.preload.tick&&(game.preload.text="firenibbler studios presents..."),340==game.preload.tick&&(game.preload.text="firenibbler studios presents..._"),360==game.preload.tick&&(game.preload.text="firenibbler studios presents..."),380==game.preload.tick&&(game.preload.text="",game.fade=1,game.preload.title=!0),480==game.preload.tick&&(game.fade=1,game.currentState="start"),game.preload.tick+=1.25},game.preload.render=function(){game.ctx.fillStyle="#000000",game.ctx.globalAlpha=1,game.ctx.fillRect(0,0,game.canvas.width,game.canvas.height),game.canvas.width>404?drawText(game.preload.text,game.canvas.width/2-192,game.canvas.height/2-15,3,"#ffffff"):drawText(game.preload.text,game.canvas.width/2-128,game.canvas.height/2-15,2,"#ffffff"),game.preload.title&&(10==random(0,20)&&(game.preload.placement.x=random(0,game.canvas.width)-200,game.preload.placement.y=random(0,game.canvas.height)-20),drawText("anti virus",game.preload.placement.x,game.preload.placement.y,7,"#ffffff"),game.preload.placement.x=game.canvas.width/2-140,game.preload.placement.y=game.canvas.height/2-10.5)},game.start={},game.start.playBTN={x:40,y:40,width:128,height:40},game.start.controlBTN={x:40,y:120,width:256,height:40},game.start.storeBTN={x:40,y:200,width:160,height:40},game.start.render=function(){1==hoverOn(game.start.playBTN)?drawText("play",game.start.playBTN.x,game.start.playBTN.y,8,"#ffffff"):drawText("play",game.start.playBTN.x,game.start.playBTN.y,8,"#00ffff"),1==hoverOn(game.start.controlBTN)?drawText("controls",game.start.controlBTN.x,game.start.controlBTN.y,8,"#ffffff"):drawText("controls",game.start.controlBTN.x,game.start.controlBTN.y,8,"#00ffff"),1==hoverOn(game.start.storeBTN)?drawText("store",game.start.storeBTN.x,game.start.storeBTN.y,8,"#ffffff"):drawText("store",game.start.storeBTN.x,game.start.storeBTN.y,8,"#00ffff")},game.play={},game.play.antivirus=[],game.play.spawnAntivirus=function(){game.play.antivirus.push({x:random(10,game.canvas.width-60),y:random(game.canvas.height/2,game.canvas.height-60),width:40,height:40,update:function(){10==random(0,60)&&game.spawnSearchingBullet(this.x,this.y)}})},game.play.defragBTN={x:20,y:160,width:40,height:40},game.play.moneyBTN={x:20,y:220,width:40,height:40},game.play.firewallBTN={x:game.canvas.width-20,y:160,width:40,height:40},game.play.scannerBTN={x:game.canvas.width-20,y:220,width:40,height:40},game.play.onclick=function(){if(1==hoverOn(game.play.defragBTN)&&game.items.diskdefrag>0){game.files=[],game.spawnFileSheild();for(var e=0;e<game.canvas.width;e+=40)game.spawnParticles(e,game.canvas.height-40,10);game.spawnAlert("All files healed","#ffffff"),game.items.diskdefrag-=1}else if(1==hoverOn(game.play.defragBTN)&&game.items.diskdefrag<=0)game.spawnAlert("all out","#ff0000");else if(1==hoverOn(game.play.moneyBTN)&&game.items.doublemoney>0)game.moneycount<0&&(game.moneycount=0),game.spawnAlert("double money activated","#ffffff"),game.moneycount+=300,game.items.doublemoney-=1;else if(1==hoverOn(game.play.moneyBTN)&&game.items.doublemoney<=0)game.spawnAlert("all out","#ff0000");else if(1==hoverOn(game.play.firewallBTN)&&game.items.firewall>0){for(var e=-40;e<game.canvas.width;e+=20)game.spawnFireBullet(e,game.canvas.height-120);game.spawnAlert("firewall activated","#ffffff"),game.items.firewall--}else if(1==hoverOn(game.play.firewallBTN)&&game.items.firewall<=0)game.spawnAlert("all out","#ff0000");else if(1==hoverOn(game.play.scannerBTN)&&game.items.virusscanner>0){for(var e=-40;e<game.canvas.width;e+=20)game.spawnScanBullet(e,game.canvas.height-120);game.spawnAlert("virus scanner activated","#ffffff"),game.items.virusscanner--}else 1==hoverOn(game.play.scannerBTN)&&game.items.virusscanner<=0?game.spawnAlert("all out","#ff0000"):(game.spawnBullet(game.canvas.width/2-20,game.canvas.height-80),random(0,game.items.searchingcode+10)<game.items.searchingcode&&game.spawnSearchingBullet(game.canvas.width/2-20,game.canvas.height-80))},game.play.init=function(){game.fade=1,game.currentState="play",game.spawnFileSheild(),game.bugs=[],game.bullets=[],game.score=0;for(var e=0;e<game.items.antivirus;e++)game.play.spawnAntivirus()},game.play.update=function(){game.moneycount--,random(0,50)<=game.score/5e3&&game.spawnBug();for(var e=0;e<game.play.antivirus.length;e++)game.play.antivirus[e].update();game.play.scannerBTN.x=game.canvas.width-60,game.play.firewallBTN.x=game.canvas.width-60},game.play.render=function(){for(var e=0;e<game.play.antivirus.length;e++)game.ctx.drawImage(game.image,8,8,8,8,game.play.antivirus[e].x,game.play.antivirus[e].y,40,40);game.ctx.drawImage(game.image,24,8,8,8,game.play.defragBTN.x,game.play.defragBTN.y,game.play.defragBTN.width,game.play.defragBTN.height),drawText(game.items.diskdefrag+"",game.play.defragBTN.x+5,game.play.defragBTN.y+5,5,"#ffffff"),game.ctx.drawImage(game.image,16,16,8,8,game.play.moneyBTN.x,game.play.moneyBTN.y,game.play.moneyBTN.width,game.play.moneyBTN.height),drawText(game.items.doublemoney+"",game.play.moneyBTN.x+5,game.play.moneyBTN.y+5,5,"#ffffff"),game.ctx.drawImage(game.image,8,16,8,8,game.play.firewallBTN.x,game.play.firewallBTN.y,game.play.firewallBTN.width,game.play.firewallBTN.height),drawText(game.items.firewall+"",game.play.firewallBTN.x+5,game.play.firewallBTN.y+5,5,"#ffffff"),game.ctx.drawImage(game.image,16,8,8,8,game.play.scannerBTN.x,game.play.scannerBTN.y,game.play.scannerBTN.width,game.play.scannerBTN.height),drawText(game.items.virusscanner+"",game.play.scannerBTN.x+5,game.play.scannerBTN.y+5,5,"#ffffff"),game.moneycount>0&&drawText("2x "+Math.floor(game.moneycount/30),game.canvas.width/2-100,80,5,"#00ff00"),drawText("score: "+game.score,40,40,4,"#00ffff"),drawText("bits: "+game.money,40,100,4,"#00ffff")},game.over={},game.over.timer=0,game.over.init=function(){game.currentState="gameover",game.hits=0,game.over.timer=0;for(var e=0;e<game.bugs.length;e++)game.spawnParticles(game.bugs[e].x,game.bugs[e].y,10);for(var e=0;e<game.files.length;e++)game.spawnParticles(game.files[e].x,game.files[e].y,10);for(var e=0;e<game.bullets.length;e++)game.spawnParticles(game.bullets[e].x,game.bullets[e].y,10);game.bugs=[],game.files=[],game.bullets=[]},game.over.update=function(){3==random(0,6)&&game.spawnParticles(random(0,game.canvas.width),random(0,game.canvas.height),30),game.over.timer++},game.over.render=function(){drawText("game over",game.canvas.width/2-126,game.canvas.height/2-100,7,"#ffffff"),drawText("High score: "+game.highscore,game.canvas.width/2-126,game.canvas.height/2-50,4,"#ffffff"),drawText("Score: "+game.score,game.canvas.width/2-126,game.canvas.height/2-20,4,"#ffffff"),drawText("Bits: "+game.money,game.canvas.width/2-126,game.canvas.height/2+10,4,"#ffffff")},game.store={},game.store.currentSelected,game.items={},game.items.antivirus=0,game.items.fasterdefence=0,game.items.searchingcode=0,game.items.diskdefrag=0,game.items.virusscanner=0,game.items.doublemoney=0,game.items.firewall=0,game.store.antivirus={x:0,y:0,width:40,height:40,name:"Anti virus",description:"Purchase an auto shooting antivirus.",price:750,id:"antivirus",update:function(){this.x=game.canvas.width/2-80,this.y=120}},game.store.fasterbullets={x:0,y:0,width:40,height:40,name:"faster defence",description:"upgrades bullet speed.",price:250,id:"fasterdefence",update:function(){this.x=game.canvas.width/2-20,this.y=120}},game.store.seekingbullet={x:0,y:0,width:40,height:40,name:"searching code",description:"shoot seeking code.",price:500,id:"searchingcode",update:function(){this.x=game.canvas.width/2+40,this.y=120}},game.store.diskdefrag={x:0,y:0,width:40,height:40,name:"disk defrag",description:"use to fix your hard drive.",price:50,id:"diskdefrag",update:function(){this.x=game.canvas.width/2-110,this.y=180}},game.store.virusscanner={x:0,y:0,width:40,height:40,name:"virus scanner",description:"finds and destroys all viruses.",price:60,id:"virusscanner",update:function(){this.x=game.canvas.width/2-50,this.y=180}},game.store.moremoney={x:0,y:0,width:40,height:40,name:"double money",description:"earn 2x more bits for ten seconds.",price:50,id:"doublemoney",update:function(){this.x=game.canvas.width/2+10,this.y=180}},game.store.firewall={x:0,y:0,width:40,height:40,name:"firewall",description:"extra layer of protection.",id:"firewall",price:250,update:function(){this.x=game.canvas.width/2+70,this.y=180}},game.store.buy={x:0,y:0,width:60,height:20,update:function(){void 0!=game.store.currentSelected?game.canvas.width<600||game.canvas.height<600?(this.x=game.canvas.width-this.width-20,this.y=game.canvas.height-this.height-20):(this.x=game.canvas.width/2+80,this.y=360):(this.x=-1e3,this.y=-1e3)}},game.store.menu={x:0,y:0,width:100,height:20,update:function(){game.canvas.width<600||game.canvas.height<600?(this.x=20,this.y=game.canvas.height-this.height-20):(this.x=game.canvas.width/2-140,this.y=360)}},game.store.init=function(){game.currentState="store"},game.store.update=function(){game.store.antivirus.update(),game.store.fasterbullets.update(),game.store.seekingbullet.update(),game.store.diskdefrag.update(),game.store.virusscanner.update(),game.store.moremoney.update(),game.store.firewall.update(),game.store.buy.update(),game.store.menu.update()},game.store.render=function(){drawText("store",game.canvas.width/2-50,20,4,"#00ffff"),drawText("bits: "+game.money,20,60,4,"#00ffff"),1==hoverOn(game.store.menu)?drawText("menu",game.store.menu.x,game.store.menu.y,5,"#ffffff"):drawText("menu",game.store.menu.x,game.store.menu.y,5,"#00ffff"),1==hoverOn(game.store.buy)?drawText("buy",game.store.buy.x,game.store.buy.y,5,"#ffffff"):drawText("buy",game.store.buy.x,game.store.buy.y,5,"#00ffff"),game.ctx.drawImage(game.image,8,8,8,8,game.store.antivirus.x,game.store.antivirus.y,40,40),drawText(game.items[game.store.antivirus.id]+"",game.store.antivirus.x,game.store.antivirus.y,5,"#ffffff"),game.ctx.drawImage(game.image,16,24,8,8,game.store.fasterbullets.x,game.store.fasterbullets.y,40,40),drawText(game.items[game.store.fasterbullets.id]+"",game.store.fasterbullets.x,game.store.fasterbullets.y,5,"#ffffff"),game.ctx.drawImage(game.image,24,16,8,8,game.store.seekingbullet.x,game.store.seekingbullet.y,40,40),drawText(game.items[game.store.seekingbullet.id]+"",game.store.seekingbullet.x,game.store.seekingbullet.y,5,"#ffffff"),game.ctx.drawImage(game.image,24,8,8,8,game.store.diskdefrag.x,game.store.diskdefrag.y,40,40),drawText(game.items[game.store.diskdefrag.id]+"",game.store.diskdefrag.x,game.store.diskdefrag.y,5,"#ffffff"),game.ctx.drawImage(game.image,16,8,8,8,game.store.virusscanner.x,game.store.virusscanner.y,40,40),drawText(game.items[game.store.virusscanner.id]+"",game.store.virusscanner.x,game.store.virusscanner.y,5,"#ffffff"),game.ctx.drawImage(game.image,16,16,8,8,game.store.moremoney.x,game.store.moremoney.y,40,40),drawText(game.items[game.store.moremoney.id]+"",game.store.moremoney.x,game.store.moremoney.y,5,"#ffffff"),game.ctx.drawImage(game.image,8,16,8,8,game.store.firewall.x,game.store.firewall.y,40,40),drawText(game.items[game.store.firewall.id]+"",game.store.firewall.x,game.store.firewall.y,5,"#ffffff"),void 0!=game.store.currentSelected&&(drawText(game.store.currentSelected.name,game.canvas.width/2-130,240,4,"#00ffff"),drawText("bits: "+game.store.currentSelected.price,game.canvas.width/2-130,280,4,"#00ffff"),drawText(game.store.currentSelected.description,game.canvas.width/2-130,320,2,"#00ffff"))},game.store.onclick=function(){hoverOn(game.store.antivirus)&&(game.store.currentSelected=game.store.antivirus),hoverOn(game.store.fasterbullets)&&(game.store.currentSelected=game.store.fasterbullets),hoverOn(game.store.seekingbullet)&&(game.store.currentSelected=game.store.seekingbullet),hoverOn(game.store.diskdefrag)&&(game.store.currentSelected=game.store.diskdefrag),hoverOn(game.store.virusscanner)&&(game.store.currentSelected=game.store.virusscanner),hoverOn(game.store.moremoney)&&(game.store.currentSelected=game.store.moremoney),hoverOn(game.store.firewall)&&(game.store.currentSelected=game.store.firewall),hoverOn(game.store.menu)&&(game.currentState="start"),void 0!=game.store.currentSelected&&hoverOn(game.store.buy)&&(game.money>=game.store.currentSelected.price?(game.money-=game.store.currentSelected.price,game.items[game.store.currentSelected.id]=game.items[game.store.currentSelected.id]||0,game.items[game.store.currentSelected.id]++,game.spawnAlert("bought","#00ff00")):game.spawnAlert("not enough money","#ff0000"))},game.bugs=[],game.spawnBug=function(){game.bugs.push({x:random(0,game.canvas.width-40),y:-40,width:40,height:40,speed:3*Math.random()+1})},game.updateBug=function(){for(var e=0;e<game.bugs.length;e++)game.bugs[e].y+=game.bugs[e].speed,20===random(0,200)&&(game.bugs[e].x+=random(-100,100),game.bugs[e].y+=random(-100,100)),game.bugs[e].x>game.canvas.width-game.bugs[e].width&&(game.bugs[e].x+=random(-200,-100)),game.bugs[e].x<0&&(game.bugs[e].x+=random(100,200)),game.bugs[e].y>=game.canvas.height+10&&("play"==game.currentState&&(game.over.init(),game.currentState="gameover"),game.deleteBug(e))},game.bugJitter=15,game.renderBug=function(){for(var e=0;e<game.bugs.length;e++)random(0,40)>0?game.ctx.drawImage(game.image,16,0,8,8,game.bugs[e].x,game.bugs[e].y,game.bugs[e].width,game.bugs[e].height):game.ctx.drawImage(game.image,16,0,8,8,game.bugs[e].x+random(-game.bugJitter,game.bugJitter),game.bugs[e].y+random(-game.bugJitter,game.bugJitter),game.bugs[e].width,game.bugs[e].height)},game.deleteBug=function(e){game.bugs.splice(e,1)},game.bullets=[],game.spawnBullet=function(e,a){var t=pointer.x-20-e,g=pointer.y-20-a,m=Math.sqrt(t*t+g*g),r=t/m*(13+game.items.fasterdefence),i=g/m*(13+game.items.fasterdefence);game.bullets.push({x:e,y:a,width:40,height:40,velX:r,life:0,velY:i,img:"blue",update:function(){}})},game.spawnSeakingBullet=function(e,a){var t=random(1,game.bugs.length-1);if(void 0!=game.bugs[t]){var g=game.bugs[t].x-20-e,m=game.bugs[t].y-20-a+100,r=Math.sqrt(g*g+m*m),i=g/r*(13+game.items.fasterdefence),l=m/r*(13+game.items.fasterdefence);game.bullets.push({x:e,y:a,width:40,height:40,life:0,velX:i,velY:l,img:"blue",update:function(){}})}},game.spawnFireBullet=function(e,a){game.bullets.push({x:e,y:a,width:40,height:40,life:-300,velX:0,velY:0,img:"red",update:function(){}})},game.spawnScanBullet=function(e,a){game.bullets.push({x:e,y:a,width:40,height:40,life:-300,velX:0,velY:-10,img:"blue",update:function(){}})},game.spawnSearchingBullet=function(e,a){var t=random(1,game.bugs.length-1);void 0!=game.bugs[t]&&game.bullets.push({randomBug:t,x:e,y:a,width:40,height:40,velX:0,velY:0,accX:0,accY:0,life:0,img:"red",update:function(){if("undefined"==typeof game.bugs[this.randomBug])this.randomBug=random(0,game.bugs.length-1);else{var e=game.bugs[this.randomBug].x-20-this.x,a=game.bugs[this.randomBug].y-20-this.y,t=Math.sqrt(e*e+a*a);this.accX=e/t*(13+game.items.fasterdefence/2)/7,this.accY=a/t*(13+game.items.fasterdefence/2)/7,this.velX+=this.accX,this.velY+=this.accY,this.velX>13+game.items.fasterdefence/2?this.velX=13+game.items.fasterdefence/2:this.velX<-(13+game.items.fasterdefence/2)&&(this.velX=-(13+game.items.fasterdefence/2)),this.velY>13+game.items.fasterdefence/2?this.velY=13+game.items.fasterdefence/2:this.velY<-(13+game.items.fasterdefence/2)&&(this.velY=-(13+game.items.fasterdefence/2))}}})},game.deleteBullet=function(e){game.bullets[e].kill=!0},game.updateBullet=function(){for(var e=0;e<game.bullets.length;e++)game.bullets[e].life++,game.bullets[e].update(),game.bullets[e].x+=game.bullets[e].velX,game.bullets[e].y+=game.bullets[e].velY,game.bullets[e].life>120&&(game.bullets[e].kill=!0,game.spawnParticles(game.bullets[e].x,game.bullets[e].y,15)),(game.bullets[e].x>game.canvas.width+200||game.bullets[e].x<-200||game.bullets[e].y>game.canvas.height+200||game.bullets[e].y<-200)&&game.deleteBullet(e),1==game.bullets[e].kill&&game.bullets.splice(e,1)},game.renderBullet=function(){for(var e=0;e<game.bullets.length;e++)random(0,200)<=game.hits?"blue"==game.bullets[e].img?game.ctx.drawImage(game.image,24,0,8,8,game.bullets[e].x+random(-10,10),game.bullets[e].y+random(-10,10),game.bullets[e].width,game.bullets[e].height):"red"==game.bullets[e].img&&game.ctx.drawImage(game.image,24,16,8,8,game.bullets[e].x+random(-10,10),game.bullets[e].y+random(-10,10),game.bullets[e].width,game.bullets[e].height):"blue"==game.bullets[e].img?game.ctx.drawImage(game.image,24,0,8,8,game.bullets[e].x,game.bullets[e].y,game.bullets[e].width,game.bullets[e].height):"red"==game.bullets[e].img&&game.ctx.drawImage(game.image,24,16,8,8,game.bullets[e].x,game.bullets[e].y,game.bullets[e].width,game.bullets[e].height);("play"==game.currentState||"start"==game.currentState)&&game.ctx.drawImage(game.image,0,8,8,8,game.canvas.width/2-20,game.canvas.height-80,40,40)},game.particles=[],game.spawnParticles=function(e,a,t){for(var g=0;t>g;g++)game.particles.push({x:e,y:a,velX:random(-3,3),velY:random(-3,3),life:30,img:random(0,2)})},game.deleteParticle=function(e){game.particles.splice(e,1)},game.updateParticle=function(){for(var e=0;e<game.particles.length;e++)"undefined"!=typeof game.particles[e]&&(game.particles[e].x+=game.particles[e].velX,game.particles[e].y+=game.particles[e].velY,game.particles[e].life--,game.particles[e].x>game.canvas.width||game.particles[e].x<-40||game.particles[e].y>game.canvas.height||game.particles[e].y<-40?game.deleteParticle(e):game.particles[e].life<=0&&game.deleteParticle(e))},game.renderParticle=function(){for(var e=0;e<game.particles.length;e++)for(var e=0;e<game.particles.length;e++)game.ctx.globalAlpha=game.particles[e].life/30,0==game.particles[e].img?game.ctx.drawImage(game.image,0,0,8,8,game.particles[e].x,game.particles[e].y,20,20):game.ctx.drawImage(game.image,8,0,8,8,game.particles[e].x,game.particles[e].y,20,20),game.ctx.globalAlpha=1},game.bckParticles=[],game.spawnBckParticle=function(e,a){var t=40;game.bckParticles.push({x:e,y:a,size:t,velX:0,velY:10-t/8,img:random(0,2),dead:!1})},game.deleteBckParticle=function(e){game.bckParticles.splice(e,1)},game.updateBckParticle=function(){for(var e=0;e<game.bckParticles.length;e++)"undefined"!=typeof game.bckParticles[e]&&0==game.bckParticles[e].dead&&(game.bckParticles[e].x+=game.bckParticles[e].velX,game.bckParticles[e].y+=game.bckParticles[e].velY,10==random(0,200)&&(game.bckParticles[e].img=random(0,2)),game.bckParticles[e].y>game.canvas.height+80&&game.deleteBckParticle(e))},game.renderBckParticle=function(){for(var e=0;e<game.bckParticles.length;e++)"undefined"!=typeof game.bckParticles[e]&&0==game.bckParticles[e].dead&&(game.ctx.globalAlpha=.1,0==game.bckParticles[e].img?game.ctx.drawImage(game.image,0,0,8,8,game.bckParticles[e].x,game.bckParticles[e].y,game.bckParticles[e].size,game.bckParticles[e].size):game.ctx.drawImage(game.image,8,0,8,8,game.bckParticles[e].x,game.bckParticles[e].y,game.bckParticles[e].size,game.bckParticles[e].size),game.ctx.globalAlpha=1)},game.alerts=[],game.spawnAlert=function(e,a){game.alerts.push({text:e,color:a,length:e.length,life:0})},game.deleteAlert=function(e){game.alerts.splice(e,1)},game.renderAlert=function(){for(var e=0;e<game.alerts.length;e++)game.ctx.globalAlpha=(100-game.alerts[e].life)/100,game.alerts[e].life+=2,drawText(game.alerts[e].text,game.canvas.width/2-4*game.alerts[e].length*5/2,75-.75*game.alerts[e].life,5,game.alerts[e].color),game.alerts[e].life>100&&game.deleteAlert(e)},game.files=[],game.spawnFile=function(e,a){game.files.push({x:e,y:a,width:40,height:40,HP:2})},game.deleteFile=function(e){game.files.splice(e,1)},game.updateFile=function(){for(var e=0;e<game.files.length;e++)game.files[e].y=game.canvas.height-40,game.files[e].HP<=0&&game.deleteFile(e)},game.renderFile=function(){for(var e=0;e<game.files.length;e++)2==game.files[e].HP?game.ctx.drawImage(game.image,0,24,8,8,game.files[e].x,game.files[e].y,game.files[e].width,game.files[e].height):game.ctx.drawImage(game.image,8,24,8,8,game.files[e].x,game.files[e].y,game.files[e].width,game.files[e].height)},game.spawnFileSheild=function(){for(var e=0;e<game.canvas.width;e+=40)game.spawnFile(e,canvas.height-40)};var pointer={x:0,y:0};document.addEventListener("mousemove",function(e){pointer.x=e.pageX-game.canvas.offsetLeft,pointer.y=e.pageY-game.canvas.offsetTop,e.cancelBubble=!0,e.returnValue=!1,e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault()},!1),document.addEventListener("mousedown",click,!1),document.addEventListener("contextmenu",function(e){e.cancelBubble=!0,e.returnValue=!1,e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault()},!1),document.addEventListener("drag",function(e){e.cancelBubble=!0,e.returnValue=!1,e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault()},!1);var fps=30,now,then=Date.now(),interval=1e3/fps,delta;game.init=function(){draw()};